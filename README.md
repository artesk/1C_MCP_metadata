# 1C_MCP_metadata
MCP (Model Context Protocol) сервер для получения метаданных конфигурации 1С
![image](https://github.com/user-attachments/assets/6befda90-ebf1-4c5c-83d5-b6fa0d6d922c)
..

![image](https://github.com/user-attachments/assets/677d666f-33fe-4434-b46d-aa1a162ee39f)

## Описание проекта

Этот проект представляет собой реализацию MCP сервера для платформы 1С:Предприятие, который предоставляет удобный API для работы с метаданными конфигурации. Проект включает в себя расширение с http-сервисом для базы 1С и powershell-скрипт для вызова http-методов в режиме stdio, т.к. реализовать режим sse (Server-Sent Events) в текущем виде проблемно.

## Функциональность

### Доступные инструменты MCP:

1. **`get_metadata_structure`** - Получение структуры метаданных конфигурации
   - Поддерживает фильтрацию по типу объектов
   - Возвращает информацию о справочниках, документах, регистрах, отчётах и других объектах

2. **`get_metadata_object_details`** - Получение детальной информации об объекте метаданных
   - Принимает полное имя объекта метаданных
   - Возвращает подробную структуру объекта

3. **`search_metadata`** - Поиск объектов метаданных по различным критериям
   - Поиск по имени, синониму и комментарию
   - Поддержка поиска по всем типам объектов конфигурации

### Поддерживаемые типы объектов метаданных:
- Справочники
- Документы
- Регистры сведений
- Регистры накопления
- Отчёты
- Обработки
- Планы видов характеристик
- Планы счетов
- Планы обмена
- Бизнес-процессы
- Задачи

## Использование

### Настройка HTTP-сервиса в 1С
1. Установите расширение в вашу конфигурацию 1С
2. Настройте публикацию HTTP-сервиса `MCPmeta_MCPСервис`

### Подключение MCP сервера к вашему ИИ-агенту
Укажите свой url к публикации базы и путь до ps1 скрипта (избегайте кириллицу в пути). 
```{
  "mcpServers": {
    "1c-metadata": {
      "command": "powershell",
      "args": [
        "-ExecutionPolicy", "Bypass",
        "-NoProfile", 
        "-WindowStyle", "Hidden",
        "-File", 
        "C:\\mcp-1c\\mcp-1c-powershell.ps1",
        "-BaseUrl",
        "http://localhost/kirill/hs/mcpmetadata"
      ]
    }
  }
}


